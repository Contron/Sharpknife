<UserControl x:Name="Control" x:Class="Sharpknife.Desktop.Views.Controls.StatusBox" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:sdc="clr-namespace:Sharpknife.Desktop.Converters">
	<UserControl.Resources>
		<sdc:BoolVisibilityConverter x:Key="BoolVisibilityConverter" />
	</UserControl.Resources>
	<StatusBar>
		<StatusBarItem HorizontalAlignment="Left">
			<TextBlock Text="{Binding Status.Message, ElementName=Control}" />
		</StatusBarItem>
		<StatusBarItem HorizontalAlignment="Right">
			<StackPanel Orientation="Horizontal">
				<ItemsControl ItemsSource="{Binding Children, ElementName=Control}">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel Orientation="Horizontal" />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
				</ItemsControl>
				<ProgressBar Visibility="{Binding Status.Busy, ElementName=Control, Converter={StaticResource BoolVisibilityConverter}}" IsIndeterminate="True" Width="100" Height="10" Margin="10, 0, 0, 0" />
			</StackPanel>
		</StatusBarItem>
	</StatusBar>
</UserControl>
